<section class="text-layout">
  <h1>Pipes no tan comunes</h1>
  <p>Pipes incluidos en Angular - Usualmente en el Common Module</p>
</section>

<section class="grid">
  <section class="col md:col-6 sm:col-9">
    <p-fieldset legend="i18nSelect Pipe" [toggleable]="true">
      <p>
        <!-- i18nSelect selecciona de un mapa un elemento en función de una propiedad.
        Su formato es:
        {{atributo | i18nSelect : objetoMapa}}
        El objeto debe estar declarado en el archivo .ts-->
        Saludos {{ nombre }}, es un placer
        {{ genero | i18nSelect : invitacionMapa }}
        a nuestro evento.
      </p>
      <button
        pButton
        label="Cambiar persona"
        class="p-button-help"
        (click)="cambiarCliente()"
      ></button>
    </p-fieldset>
  </section>
  <section class="col md:col-6 sm:col-9">
    <p-fieldset legend="i18nPlural Pipe" [toggleable]="true">
      <!-- i18nPlural devuelve un valor en función de una expresión numérica. Dicha expresión numérica se pasará como primer valor.
        El segundo valor contendrá un objeto, el cual será un mapa que determinará los posibles resultados en función del valor recibido.
        Su formato es:
        {{atributoNumerico | i18nPlural : objetoMapa}}
        El objeto debe estar declarado en el archivo .ts-->
      <p>Actualmente {{ clientes.length | i18nPlural : clientesMapa }}.</p>
      <button
        pButton
        label="Borrar cliente"
        class="p-button-danger"
        (click)="borrarCliente()"
      ></button>
    </p-fieldset>
  </section>

  <section class="col md:col-6 sm:col-9">
    <p-fieldset legend="Slice Pipe" [toggleable]="true">
      <!-- Slice Pipe sirve para, tomando los valores de un array, cortarlos y devolver solo los valores que se indiquen.
      Su formato es:
    {{atributoArrayOatributoString | slice: indiceInicio : indiceFinalExcluido}} -->
      <strong>Original</strong>
      <pre>{{ clientes }}</pre>
      <b>slice: 0: 2</b>
      <pre>{{ clientes | slice : 0 : 2 }}</pre>
      <b>slice: 1: 2</b>
      <pre>{{ clientes | slice : 1 : 2 }}</pre>
      <b>slice: 1: 3</b>
      <pre>{{ clientes | slice : 1 : 3 }}</pre>
    </p-fieldset>
  </section>

  <section class="col md:col-6 sm:col-9">
    <p-fieldset legend="JSON Pipe" [toggleable]="true">
      <!-- TODO: Buscar una explicación exacta de para qué sirve exactamente el KeyValue Pipe.
      De momento, diré que permite obtener los pares de valores de un objeto correctamente, siempre que se le pase un objeto o array de objetos.-->
      <pre>{{ heroes | json }}</pre>
    </p-fieldset>
  </section>

  <section class="col md:col-6 sm:col-9">
    <p-fieldset legend="KeyValue Pipe" [toggleable]="true">
      <!-- TODO: Buscar una explicación exacta de para qué sirve exactamente el KeyValue Pipe.
      De momento, diré que permite obtener los pares de valores de un objeto correctamente, siempre que se le pase un objeto o array de objetos.-->
      <ul>
        <li *ngFor="let item of persona | keyvalue">
          <b>{{ item.key }}</b
          >: {{ item.value }}
        </li>
      </ul>
    </p-fieldset>
  </section>

  <section class="col md:col-6 sm:col-9">
    <p-fieldset legend="Async Pipe" [toggleable]="true">
      <!-- Async Pipe sirve para trabajar con peticiones asíncronas. Por ello, como atributo, SOLO podrá recibir uno de los siguientes tipos de objetos:
      - Un Observable
      - Un objeto Subscribable
      - Una promesa
      -->
      <!-- <pre>{{ miObservable | async }}</pre> -->
      <pre *ngIf="!(miObservable | async)">Resolviendo observable:</pre>
      <pre>{{ miObservable | async }}</pre>

      <pre *ngIf="!(valorPromesa | async)">Resolviendo promesa:</pre>
      <pre>{{ valorPromesa | async }}</pre>
    </p-fieldset>
  </section>
</section>
